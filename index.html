<!DOCTYPE html>
<html lang="en">

<head>
    <title>Days Until Summit</title>
    <meta charset="UTF-8">
    <link rel="manifest" href="manifest.json">
</head>

<body>
    <h1>Days Until Summit</h1>
    <p id="id-result">Some paragraph...</p>
    <script>
        const now = new Date();
        let result;
        if (now.getFullYear() !== 2023 || now.getMonth() > 7) {
            result = 'Summit date has passed.'
        } else if (now.getMonth() === 6) {
            result = 31 + 31 - now.getDate();
        } else {
            result = 31 - now.getDate();
        }
        document.querySelector('#id-result').textContent = result;

        const registerServiceWorker = async () => {
            if ("serviceWorker" in navigator) {
                try {
                    const registration = await navigator.serviceWorker.register("/serviceworker.js");
                    if (registration.installing) {
                        console.log("Service worker installing");
                    } else if (registration.waiting) {
                        console.log("Service worker installed");
                    } else if (registration.active) {
                        console.log("Service worker active");
                    }
                } catch (error) {
                    console.error(`Registration failed with ${error}`);
                }
            }
        };

        registerServiceWorker();
    </script>
</body>

</html>